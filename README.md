# Домашнее задание "Tests"

Тесты для программы "Бухгалтерия" - лекция 4

## Файлы

```
├── main.py                     # Основная программа
├── application/
│   ├── salary.py              # Модуль зарплат
│   └── db/people.py           # Модуль сотрудников
├── test_accounting.py         # Unit-тесты бухгалтерии
├── test_yandex_disk_api.py    # API тесты Яндекс.Диска  
├── test_yandex_selenium.py    # Selenium тесты
├── run_all_tests.py           # Запуск всех тестов
├── requirements_tests.txt     # Зависимости
└── quick_test.py              # Скрипт для быстрого тестирования исправлений
```

## Запуск

### Установка зависимостей
```bash
pip install -r requirements_tests.txt
```

### Все тесты сразу
```bash
python run_all_tests.py
```

### Отдельные тесты
```bash
python test_accounting.py        # Unit-тесты (29 тестов)
python test_yandex_disk_api.py   # API тесты (10 тестов)  
python test_yandex_selenium.py   # Selenium тесты (нужен Chrome)
```

## Выполненные задания

### ✅ Задание 1: Unit-тесты
- Тестируются функции получения данных сотрудников
- Тестируются операции добавления/удаления
- Функции возвращают данные вместо print
- Использовано мокирование

### ✅ Задание 2: API тесты Яндекс.Диска
- Позитивные тесты: создание папки (код 201)
- Негативные тесты: ошибки 401, 409, 400, 404
- Проверка появления папки в списке файлов
- Моки для изоляции тестов

### ✅ Задание 3: Selenium тесты (необязательное)
- Тесты авторизации на https://passport.yandex.ru/auth/
- Проверка элементов формы
- Валидация полей ввода
- Корректно пропускаются если нет Chrome

## Настройка интеграционных тестов

Для полных тестов установите переменные окружения:

```bash
# Для API тестов
export YANDEX_DISK_TOKEN="ваш_токен"

# Для Selenium тестов  
export YANDEX_TEST_LOGIN="логин"
export YANDEX_TEST_PASSWORD="пароль"
```

## Результаты

- **Unit-тесты**: 29/29 ✅
- **API тесты**: 10/10 ✅ 
- **Selenium**: корректно пропускаются без Chrome ✅

Все задания выполнены!
